<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–≠–ö–ì-–†–µ–π—Ç–∏–Ω–≥ –°–∏–º—É–ª—è—Ç–æ—Ä v2.1</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            display: flex; flex-direction: column; align-items: center; 
            height: 100vh; margin: 0; padding-top: 15px; box-sizing: border-box;
            background: linear-gradient(-45deg, #6a89cc, #b8e994, #f8c291, #e77f67);
            background-size: 400% 400%;
            animation: gradientBG 20s ease infinite;
            transition: filter 0.5s ease;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* –ü–∞–Ω–µ–ª—å –º–µ—Ç—Ä–∏–∫ */
        .stats-dashboard {
            display: flex; gap: 15px; background: rgba(255, 255, 255, 0.7);
            padding: 10px; backdrop-filter: blur(10px);
            border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            justify-content: space-around; z-index: 100;
        }
        .stats-section { padding: 10px; border-radius: 12px; }
        .section-header { display: flex; align-items: center; gap: 8px; font-weight: 800; font-size: 14px; margin-bottom: 10px; }
        .sub-metric { font-size: 11px; margin-bottom: 6px; position: relative; white-space: nowrap;}
        .metric-name { display: inline-block; width: 130px; color: #555; }
        .metric-bar-bg { display: inline-block; width: 80px; height: 6px; background: rgba(0,0,0,0.1); border-radius: 3px; vertical-align: middle;}
        .metric-bar-fill { height: 100%; border-radius: 3px; transition: width 0.3s ease; }
        #ecology-header { color: #27ae60; } #personnel-header { color: #2980b9; } #government-header { color: #8e44ad; }
        
        /* –ì–ª–∞–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –§–∏–Ω–∞–Ω—Å–æ–≤ */
        .finance-tracker {
            margin-top: 10px; background: rgba(0,0,0,0.6); color: white; padding: 10px 20px; border-radius: 12px;
            font-size: 16px; font-weight: 800; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            width: 250px; transition: all 0.3s ease;
        }
        .finance-tracker-bar-bg { width: 100%; height: 8px; background: rgba(255,255,255,0.2); border-radius: 4px; margin-top: 5px; overflow: hidden;}
        .finance-tracker-bar-fill { height: 100%; background: #2ecc71; border-radius: 4px; transition: all 0.3s ease; }

        .total-score { text-align: center; margin-top: 10px; font-size: 12px; font-weight: 600; color: #2d3436;}
        #ekg-score { font-size: 20px; font-weight: 800;}
        


        .game-area { position: relative; width: 340px; height: 420px; margin-top: 10px; perspective: 1000px; }
        .card-stack, .card-stack-2 {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #fff;
            border-radius: 24px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s ease-out;
        }
        .card-stack { z-index: 1; transform: scale(0.95) translateY(15px); opacity: 0.7; }
        .card-stack-2 { z-index: 0; transform: scale(0.9) translateY(30px); opacity: 0.4; }
        .card {
            width: 100%; height: 100%; background: white; border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15); position: absolute; z-index: 10;
            display: flex; flex-direction: column; align-items: center; padding: 25px; box-sizing: border-box;
            user-select: none; transition: all 0.4s ease;
        }
        .card-image { width: 100%; height: 160px; background: #f0f4f8; border-radius: 16px; margin-bottom: 25px; display: flex; align-items: center; justify-content: center; font-size: 70px; }
        .card-text { font-size: 18px; line-height: 1.4; text-align: center; color: #1a1a1a; font-weight: 600; margin-bottom: auto; }
        .controls { display: flex; gap: 15px; margin-top: auto; width: 100%; z-index: 20; position: relative;}
        .btn { flex: 1; padding: 18px; border: none; border-radius: 14px; cursor: pointer; font-weight: 700; font-size: 14px; transition: transform 0.1s; color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.2); line-height: 1.2; }
        .btn:active { transform: scale(0.95); }
        .btn-left { background: linear-gradient(135deg, #ff6b6b, #ee5253); } 
        .btn-right { background: linear-gradient(135deg, #1dd1a1, #10ac84); }
        .game-over { display: none; text-align: center; margin-top: 100px; z-index: 300; background: rgba(255,255,255,0.8); padding: 40px; border-radius: 20px; backdrop-filter: blur(10px); }
        h1 { margin: 0 0 10px 0; color: #d63031; } p { color: #2d3436; }

        .preview-glow { transition: transform 0.2s, box-shadow 0.2s; transform: scale(1.05); }
        .positive { box-shadow: 0 0 10px 3px rgba(46, 204, 113, 0.7); }
        .negative { box-shadow: 0 0 10px 3px rgba(231, 76, 60, 0.7); }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –õ–∏–¥–µ—Ä–±–æ—Ä–¥–∞ */
    .grade-display {
        margin-top: 10px;
        padding: 8px 16px;
        border-radius: 10px;
        font-weight: 800;
        text-align: center;
        width: 150px;
        box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        border: 2px solid;
    }
    .grade-label {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
        display: block;
        opacity: 0.7;
    }
    .grade-value {
        font-size: 28px;
        display: block;
        line-height: 1;
    }

    /* –¶–≤–µ—Ç–∞ –≥—Ä–µ–π–¥–æ–≤ */
    .grade-AAA { background: #c5f0c5; color: #1c7e2a; border-color: #1c7e2a; } /* Elite */
    .grade-AA  { background: #d8f5d8; color: #2ecc71; border-color: #2ecc71; } /* Excellent */
    .grade-A   { background: #eaffeaf; color: #57cc88; border-color: #57cc88; } /* Good */
    .grade-BBB { background: #fffacd; color: #d28c0a; border-color: #d28c0a; } /* Stable */
    .grade-BB  { background: #ffe4c4; color: #e67e22; border-color: #e67e22; } /* Speculative */
    .grade-B   { background: #ffc9c9; color: #c0392b; border-color: #c0392b; } /* High Risk */
    .grade-CCC { background: #b0a0a0; color: #695d5d; border-color: #695d5d; } /* Default Risk */
    </style>
</head>
<body>
    <div class="stats-dashboard">
        <!-- –í—Å–µ 3 —Å–µ–∫—Ü–∏–∏ –≠–ö–ì –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
        <div class="stats-section" id="ecology-section"><div class="section-header" id="ecology-header">üåø –≠–∫–æ–ª–æ–≥–∏—è</div><div class="sub-metric" id="metric-ecology-eco_friendly"><span class="metric-name">–≠–∫–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#2ecc71"></div></div></div><div class="sub-metric" id="metric-ecology-tech"><span class="metric-name">–ù–î–¢</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#27ae60"></div></div></div><div class="sub-metric" id="metric-ecology-policy"><span class="metric-name">–≠–∫–æ-–ø–æ–ª–∏—Ç–∏–∫–∞</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#1abc9c"></div></div></div></div>
        <div class="stats-section" id="personnel-section"><div class="section-header" id="personnel-header">ü§ù –ö–∞–¥—Ä—ã</div><div class="sub-metric" id="metric-personnel-salary"><span class="metric-name">–£—Ä–æ–≤–µ–Ω—å –∑–∞—Ä–ø–ª–∞—Ç</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#3498db"></div></div></div><div class="sub-metric" id="metric-personnel-social"><span class="metric-name">–°–æ—Ü. –ø–∞–∫–µ—Ç</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#2980b9"></div></div></div><div class="sub-metric" id="metric-personnel-charity"><span class="metric-name">–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#54a0ff"></div></div></div></div>
        <div class="stats-section" id="government-section"><div class="section-header" id="government-header">‚öñÔ∏è –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ</div><div class="sub-metric" id="metric-government-tax"><span class="metric-name">–ù–∞–ª–æ–≥–∏/–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#9b59b6"></div></div></div><div class="sub-metric" id="metric-government-finance"><span class="metric-name">–§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#8e44ad"></div></div></div><div class="sub-metric" id="metric-government-investment"><span class="metric-name">–°–æ—Ü. –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</span> <div class="metric-bar-bg"><div class="metric-bar-fill" style="background:#be2edd"></div></div></div></div>
    </div>
    <div class="total-score">–û–±—â–∏–π –≠–ö–ì-—Ä–µ–π—Ç–∏–Ω–≥: <span id="ekg-score">80</span> / 160</div>
<div class="grade-display" id="grade-display">
    <span class="grade-label">–†–µ–π—Ç–∏–Ω–≥</span>
    <span class="grade-value" id="grade-value">BBB</span>
</div>

    <!-- –î–û–ë–ê–í–õ–ï–ù–ù–´–ô –ë–õ–û–ö –î–õ–Ø –§–ò–ù–ê–ù–°–û–í -->
    <div class="finance-tracker" id="finance-tracker">
        <span id="finance-value">–§–∏–Ω–∞–Ω—Å—ã: 50%</span>
        <div class="finance-tracker-bar-bg"><div id="finance-bar" class="finance-tracker-bar-fill" style="width: 50%;"></div></div>
    </div>

    <div class="game-area" id="game-area">
        <div class="card-stack-2"></div><div class="card-stack"></div>
        <div class="card" id="active-card">
            <div class="card-image">üè¢</div><p class="card-text" id="scenario-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            <div class="controls">
                <button class="btn btn-left" id="btn-left" onmouseenter="previewImpact('left')" onmouseleave="clearPreview()" onclick="makeChoice('left')"></button>
                <button class="btn btn-right" id="btn-right" onmouseenter="previewImpact('right')" onmouseleave="clearPreview()" onclick="makeChoice('right')"></button>
            </div>
        </div>
    </div>

    <div class="game-over" id="game-over-screen">
        <h1>–î–ï–Ø–¢–ï–õ–¨–ù–û–°–¢–¨ –ö–û–ú–ü–ê–ù–ò–ò –ü–†–ò–û–°–¢–ê–ù–û–í–õ–ï–ù–ê</h1><p id="death-reason">...</p><br>
        <button class="btn btn-right" style="width: 200px;" onclick="location.reload()">–ù–∞—á–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞</button>
    </div>

    <script>// --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ò–≥—Ä—ã ---
        const METRIC_CONFIG = {
            ecology: { 
                eco_friendly: { name: '–≠–∫–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å', weight: 15 },
                tech: { name: '–ù–î–¢', weight: 5 },
                policy: { name: '–≠–∫–æ-–ø–æ–ª–∏—Ç–∏–∫–∞', weight: 5 }
            },
            personnel: {
                salary: { name: '–£—Ä–æ–≤–µ–Ω—å –∑–∞—Ä–ø–ª–∞—Ç', weight: 35 },
                social: { name: '–°–æ—Ü. –ø–∞–∫–µ—Ç', weight: 25 },
                charity: { name: '–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', weight: 5 }
            },
            government: {
                tax: { name: '–ù–∞–ª–æ–≥–∏/–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å', weight: 45 },
                finance: { name: '–§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å', weight: 15 },
                investment: { name: '–°–æ—Ü. –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏', weight: 10 }
            }
        };
        const GRADE_CONFIG = {
            AAA: { score: 145, color_class: "grade-AAA" }, // –û—Ç 145 –¥–æ 160
            AA:  { score: 130, color_class: "grade-AA" },
            A:   { score: 115, color_class: "grade-A" },
            BBB: { score: 100, color_class: "grade-BBB" },
            BB:  { score: 80,  color_class: "grade-BB" },
            B:   { score: 60,  color_class: "grade-B" },
            CCC: { score: 0,   color_class: "grade-CCC" }  // –í—Å–µ, —á—Ç–æ –Ω–∏–∂–µ 60
        };

        let stats = {
            ecology: { eco_friendly: 50, tech: 50, policy: 50 },
            personnel: { salary: 50, social: 50, charity: 50 },
            government: { tax: 50, finance: 50, investment: 50 },
            company_finances: 50 
        };
        
        let deferred_effects = [];
        let turnCounter = 1;

// --- –ì–ï–ù–ï–†–ê–¢–û–† –ë–ï–°–ö–û–ù–ï–ß–ù–´–• –°–û–ë–´–¢–ò–ô ---
        
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö "–∫–∏—Ä–ø–∏—á–∏–∫–æ–≤" –¥–ª—è —Å–æ–±—ã—Ç–∏–π
        const GEN_DATA = {
            ecology: {
                actors: ["–ì–ª–∞–≤–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä", "–≠–∫–æ-–∞–∫—Ç–∏–≤–∏—Å—Ç—ã", "–†–æ—Å–ø—Ä–∏—Ä–æ–¥–Ω–∞–¥–∑–æ—Ä", "–ú–µ—Å—Ç–Ω—ã–µ –∂–∏—Ç–µ–ª–∏", "–ì—Ä–∏–Ω–ø–∏—Å"],
                problems: ["—Å–æ–æ–±—â–∞—é—Ç –æ–± —É—Ç–µ—á–∫–µ —Ö–∏–º–∏–∫–∞—Ç–æ–≤", "—Ç—Ä–µ–±—É—é—Ç —Å–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —à—É–º–∞", "–æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –≤—ã–±—Ä–æ—Å–æ–≤", "–ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –∑–∞–º–∫–Ω—É—Ç—ã–π —Ü–∏–∫–ª –≤–æ–¥—ã", "–∂–∞–ª—É—é—Ç—Å—è –Ω–∞ –∑–∞–ø–∞—Ö —Å–æ —Å–≤–∞–ª–∫–∏"],
                images: ["üõ¢Ô∏è", "üå´Ô∏è", "üå≤", "üíß", "‚ò¢Ô∏è"],
                // –í–∞—Ä–∏–∞–Ω—Ç 1 (–°–ª–µ–≤–∞) - –ü–ª–æ—Ö–æ–π/–î–µ—à–µ–≤—ã–π, –í–∞—Ä–∏–∞–Ω—Ç 2 (–°–ø—Ä–∞–≤–∞) - –•–æ—Ä–æ—à–∏–π/–î–æ—Ä–æ–≥–æ–π
                choices: [{t: "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å", type: "risk"}, {t: "–†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É", type: "safe"}]
            },
            personnel: {
                actors: ["–ì–ª–∞–≤–∞ –ø—Ä–æ—Ñ—Å–æ—é–∑–∞", "HR-–¥–∏—Ä–µ–∫—Ç–æ—Ä", "–ö–æ–ª–ª–µ–∫—Ç–∏–≤ –∑–∞–≤–æ–¥–∞", "–ú–æ–ª–æ–¥—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã", "–ò–Ω—Å–ø–µ–∫—Ü–∏—è —Ç—Ä—É–¥–∞"],
                problems: ["–∂–∞–ª—É—é—Ç—Å—è –Ω–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏", "–ø—Ä–æ—Å—è—Ç —É–ª—É—á—à–∏—Ç—å —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞", "—É–≥—Ä–æ–∂–∞—é—Ç —É–≤–æ–ª—å–Ω–µ–Ω–∏–µ–º –∏–∑-–∑–∞ –∑–∞—Ä–ø–ª–∞—Ç", "–ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É –æ–±—É—á–µ–Ω–∏—è", "—Ç—Ä–µ–±—É—é—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏"],
                images: ["üë∑", "üì¢", "üìâ", "ü§ù", "üî•"],
                choices: [{t: "–û—Ç–∫–∞–∑–∞—Ç—å", type: "risk"}, {t: "–°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è", type: "safe"}]
            },
            government: {
                actors: ["–§–ù–°", "–ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä", "–ú–∏–Ω–ø—Ä–æ–º—Ç–æ—Ä–≥", "–î–µ–ø—É—Ç–∞—Ç –ì–æ—Å–¥—É–º—ã", "–ú—ç—Ä–∏—è"],
                problems: ["–Ω–∞–º–µ–∫–∞—é—Ç –Ω–∞ '–¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–π' –≤–∑–Ω–æ—Å", "–Ω–∞—à–ª–∏ –æ—à–∏–±–∫–∏ –≤ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏", "–ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å—Ö–µ–º—É", "–ø—Ä–æ—Å—è—Ç –ø—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –¥–µ–Ω—å –≥–æ—Ä–æ–¥–∞", "–ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –≥–æ—Å–∑–∞–∫–∞–∑ —Å –æ—Ç–∫–∞—Ç–æ–º"],
                images: ["üèõÔ∏è", "üßê", "üíº", "üèôÔ∏è", "üöî"],
                choices: [{t: "–†–∏—Å–∫–Ω—É—Ç—å / –û—Ç–∫–∞–∑–∞—Ç—å", type: "risk"}, {t: "–°–æ—Ç—Ä—É–¥–Ω–∏—á–∞—Ç—å / –ü–ª–∞—Ç–∏—Ç—å", type: "safe"}]
            }
        };

        const rand = (arr) => arr[Math.floor(Math.random() * arr.length)];
        const randInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

        function generateRandomCard() {
            // 1. –í—ã–±–∏—Ä–∞–µ–º —Å—Ñ–µ—Ä—É (–≠, –ö –∏–ª–∏ –ì)
            const type = rand(['ecology', 'personnel', 'government']);
            const data = GEN_DATA[type];
            const actor = rand(data.actors);
            const problem = rand(data.problems);

            // 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º "—Ü–µ–Ω—É –≤–æ–ø—Ä–æ—Å–∞"
            const cost = randInt(10, 25);   // –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç —Ö–æ—Ä–æ—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ
            const impact = randInt(10, 20); // –ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã—Ä–∞—Å—Ç—É—Ç –º–µ—Ç—Ä–∏–∫–∏

            // 3. –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
            let goodEffect = { company_finances: -cost };
            let badEffect = { company_finances: Math.floor(cost * 0.3) }; // –ù–µ–±–æ–ª—å—à–∞—è —ç–∫–æ–Ω–æ–º–∏—è

            if (type === 'ecology') {
                goodEffect.ecology = { eco_friendly: impact, tech: 5 };
                badEffect.ecology = { eco_friendly: -impact };
            } else if (type === 'personnel') {
                goodEffect.personnel = { social: impact };
                badEffect.personnel = { social: -impact };
            } else if (type === 'government') {
                goodEffect.government = { tax: impact };
                badEffect.government = { tax: -impact };
            }

            // 4. –î–æ–±–∞–≤–ª—è–µ–º —Ä–∏—Å–∫ (–û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ) - –û–ë–õ–ï–ì–ß–ï–ù–ù–´–ô –í–ê–†–ò–ê–ù–¢
                        let deferred = null;
                        // –®–∞–Ω—Å —á—É—Ç—å –Ω–∏–∂–µ (30%)
                        if (Math.random() < 0.30) {
                            deferred = [{
                                turns: randInt(2, 5),
                                text: `–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è —Ä–µ—à–µ–Ω–∏—è –ø–æ –∑–∞–ø—Ä–æ—Å—É "${actor}" –Ω–∞—Å—Ç–∏–≥–ª–∏ –≤–∞—Å! –†–µ–π—Ç–∏–Ω–≥ –ø–∞–¥–∞–µ—Ç.`,
                                effect: { 
                                    // –ë—ã–ª–æ: -randInt(20, 40)
                                    // –°—Ç–∞–ª–æ: –ü–æ–º—è–≥—á–µ, —á—Ç–æ–±—ã –Ω–µ —É–±–∏—Ç—å —Å—Ä–∞–∑—É
                                    company_finances: -randInt(10, 20), 
                                    
                                    // –ë—ã–ª–æ: -20
                                    // –°—Ç–∞–ª–æ: -10 –∏–ª–∏ -15. –ù–µ–ø—Ä–∏—è—Ç–Ω–æ, –Ω–æ –Ω–µ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ.
                                    [type]: type === 'ecology' ? { policy: -10 } : (type === 'personnel' ? { salary: -10 } : { finance: -10 })
                                }
                            }];
                        }

            // 5. –°–æ–±–∏—Ä–∞–µ–º –æ–±—ä–µ–∫—Ç –∫–∞—Ä—Ç—ã
            return {
                text: `${actor} ${problem}. –ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏–º?`,
                image: rand(data.images),
                isGenerated: true,
                left: { text: data.choices[0].t, effect: badEffect, deferred_effects: deferred },
                right: { text: data.choices[1].t, effect: goodEffect }
            };
        }

        let currentCard = null; // –¢–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω–∏–º —Å–∞–º –æ–±—ä–µ–∫—Ç –∫–∞—Ä—Ç—ã, –∞ –Ω–µ –Ω–æ–º–µ—Ä
        let scenarios = [];
        
        // --- –õ–æ–≥–∏–∫–∞ –ò–≥—Ä—ã ---
        function makeChoice(side) {
            clearPreview();
            const choice = currentCard[side];
            const immediate_effect = choice.effect || {};
            const new_deferred = choice.deferred_effects || [];

            applyEffects(immediate_effect);
            
            new_deferred.forEach(eff => {
                deferred_effects.push({
                    turns_left: eff.turns,
                    effect: eff.effect,
                    text: eff.text,
                    source_turn: turnCounter
                });
            });

            updateAllUI();
            animateCardOut(side);
        }
        
        function applyEffects(effect) {
             for (const section in effect) {
                if (section === 'company_finances') {
                    stats.company_finances += effect[section];
                } else {
                    for (const subKey in effect[section]) {
                        if (stats[section] && stats[section][subKey] !== undefined) {
                            stats[section][subKey] += effect[section][subKey];
                        }
                    }
                }
            }

            for (const section in stats) {
                 if (typeof stats[section] === 'object'){
                    for (const subKey in stats[section]) {
                         stats[section][subKey] = Math.max(0, Math.min(100, stats[section][subKey]));
                    }
                 } else {
                    stats.company_finances = Math.max(0, Math.min(100, stats.company_finances));
                 }
            }
        }

        function advanceTurn() {
            turnCounter++;
            const triggered_effects = [];
            
            deferred_effects = deferred_effects.filter(eff => {
                eff.turns_left--;
                if (eff.turns_left <= 0) {
                    triggered_effects.push(eff);
                    return false;
                }
                return true;
            });
            
            if (triggered_effects.length > 0) {
                let notification_text = "–°–æ–±—ã—Ç–∏—è –ø—Ä–æ—à–ª—ã—Ö —Ä–µ—à–µ–Ω–∏–π:\n";
                triggered_effects.forEach(eff => {
                    applyEffects(eff.effect);
                    notification_text += `\n- ${eff.text}`;
                });
                showNotification(notification_text);
                updateAllUI();
            }
        }

        // --- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI ---
        function showNotification(text) {
            alert(text);
        }

        function updateGradeDisplay(score) {
            const gradeDisplay = document.getElementById('grade-display');
            let currentGrade = 'CCC';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–æ–≤–æ–≥–æ
            gradeDisplay.className = 'grade-display';

            for (const grade in GRADE_CONFIG) {
                if (score >= GRADE_CONFIG[grade].score) {
                    currentGrade = grade;
                    gradeDisplay.classList.add(GRADE_CONFIG[grade].color_class);
                    break;
                }
            }
             // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫
            if(gradeDisplay.classList.length === 1){
                 gradeDisplay.classList.add(GRADE_CONFIG.CCC.color_class);
            }
            document.getElementById('grade-value').innerText = currentGrade;
        }

        function updateAllUI() {
            let totalScore = 0;
            // ... —Å—Ç–∞—Ä—ã–π –∫–æ–¥ —Ä–∞—Å—á–µ—Ç–∞ totalScore ...

            // --- –ö–û–î –í–ù–£–¢–†–ò –§–£–ù–ö–¶–ò–ò updateAllUI ---
            // –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é!

            for (const section in METRIC_CONFIG) {
                for (const subKey in METRIC_CONFIG[section]) {
                    const value = stats[section][subKey];
                    const weight = METRIC_CONFIG[section][subKey].weight;
                    totalScore += (value / 100) * weight;
                    const bar = document.querySelector(`#metric-${section}-${subKey} .metric-bar-fill`);
                    if(bar) bar.style.width = value + '%';
                }
            }

            const roundedScore = Math.round(totalScore);
            document.getElementById('ekg-score').innerText = roundedScore;
            
            // –ù–û–í–û–ï: –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥—Ä–µ–π–¥–∞
            updateGradeDisplay(roundedScore);

            const financeValue = stats.company_finances;
            // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤ ...
            const financeTracker = document.getElementById('finance-tracker');
            const financeBar = document.getElementById('finance-bar');
            document.getElementById('finance-value').innerText = `–ë—é–¥–∂–µ—Ç: ${financeValue}%`;
            financeBar.style.width = financeValue + '%';
            if(financeValue < 25) { financeBar.style.background = '#e74c3c'; financeTracker.classList.add('negative'); } 
            else if (financeValue < 50) { financeBar.style.background = '#f1c40f'; financeTracker.classList.remove('negative'); } 
            else { financeBar.style.background = '#2ecc71'; financeTracker.classList.remove('negative'); }
        }

        function previewImpact(side) {
            const effect = scenarios[currentCardIndex][side].effect || {};
             for (const section in effect) {
                if (section === 'company_finances'){
                    document.getElementById('finance-tracker').classList.add(effect[section] > 0 ? 'positive' : 'negative', 'preview-glow');
                } else {
                    for (const subKey in effect[section]) {
                       document.getElementById(`metric-${section}-${subKey}`).classList.add(effect[section][subKey] > 0 ? 'positive' : 'negative', 'preview-glow');
                    }
                }
            }
        }

        function clearPreview() {
            document.querySelectorAll('.preview-glow').forEach(el => el.classList.remove('positive', 'negative', 'preview-glow'));
        }
        
        function animateCardOut(side) {
            const cardElement = document.getElementById('active-card');
            const rotation = side === 'left' ? -15 : 15;
            const xMove = side === 'left' ? -150 : 150;
            cardElement.style.transform = `translateX(${xMove}%) rotate(${rotation}deg)`;
            setTimeout(prepareNextCard, 400);
        }
        function prepareNextCard() {
            advanceTurn();
            if(checkGameOver()) return;
            const cardElement = document.getElementById('active-card');
            cardElement.style.transition = 'none';
            cardElement.style.transform = 'scale(0.8)'; cardElement.style.opacity = '0';
            loadCard();
            setTimeout(() => { 
                cardElement.style.transition = 'all 0.4s ease';
                cardElement.style.transform = 'scale(1) rotate(0) translateX(0)'; 
                cardElement.style.opacity = '1';
            }, 50);
        }

        function loadCard() {
                     // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ä–µ–∂–∏–º: –ï—Å–ª–∏ —Å—é–∂–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã –∫–æ–Ω—á–∏–ª–∏—Å—å, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é
                    if (scenarios.length > 0) {
                        currentCard = scenarios.shift(); // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –∏–∑ –º–∞—Å—Å–∏–≤–∞ –∏ —É–¥–∞–ª—è–µ–º –µ—ë –æ—Ç—Ç—É–¥–∞
                    } else {
                        currentCard = generateRandomCard(); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—É—é –∫–∞—Ä—Ç—É
                    }

                    // –†–∏—Å—É–µ–º UI
                    document.getElementById('scenario-text').innerText = currentCard.text;
                    document.querySelector('.card-image').innerText = currentCard.image;
                    document.getElementById('btn-left').innerText = currentCard.left.text;
                    document.getElementById('btn-right').innerText = currentCard.right.text;
                }

        function checkGameOver() {
            if (stats.company_finances <= 0) {
                 gameOver('–§–∏–Ω–∞–Ω—Å—ã –∏—Å—á–µ—Ä–ø–∞–Ω—ã. –ö–æ–º–ø–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç–æ–º.'); return true;
            }
             for (const section in METRIC_CONFIG) {
                for (const subKey in METRIC_CONFIG[section]) {
                     if (stats[section][subKey] <= 0) {
                        gameOver(`–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø–∞–¥–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è "${METRIC_CONFIG[section][subKey].name}". –ö–æ–º–ø–∞–Ω–∏—è —Ç–µ—Ä—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –∏ –¥–æ–≤–µ—Ä–∏–µ.`); return true;
                     }
                }
            }
            return false;
        }

        function gameOver(reason, isWin = false) {
             if (isWin) {
                document.querySelector('.game-over h1').innerText = "–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!";
                document.querySelector('.game-over h1').style.color = "#27ae60";
            }
            document.querySelector('.stats-dashboard').style.display = 'none';
            document.querySelector('.total-score').style.display = 'none';
            document.getElementById('finance-tracker').style.display = 'none';
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('game-over-screen').style.display = 'block';
            document.getElementById('death-reason').innerText = reason;
        }
        
        // --- –°—Ü–µ–Ω–∞—Ä–∏–∏ —Å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏ ---
        // --- –§–∏–Ω–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ v1.0 (–±–æ–ª–µ–µ 20 —Å–æ–±—ã—Ç–∏–π) ---
                // --- –§–∏–Ω–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ v1.1 (–û–±–ª–µ–≥—á–µ–Ω–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã) ---
                        scenarios = [
                            {
                                text: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä –≠–ö–ì-—Ä–µ–π—Ç–∏–Ω–≥–∞. –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–ø–∞–Ω–∏–µ–π, –±–∞–ª–∞–Ω—Å–∏—Ä—É—è –º–µ–∂–¥—É 8 –∫–ª—é—á–µ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –ì–æ—Ç–æ–≤—ã?",
                                image: "üìä",
                                left: { text: "–ü–æ–∑–∂–µ", effect: {} },
                                right: { text: "–ù–∞—á–∞—Ç—å!", effect: {} }
                            },
                            
                            // --- –¢–ï–•–ù–û–õ–û–ì–ò–ò –ò –ò–ù–ù–û–í–ê–¶–ò–ò ---
                            {
                                text: "R&D –æ—Ç–¥–µ–ª –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∏. –≠—Ç–æ –¥–æ—Ä–æ–≥–æ —Å–µ–π—á–∞—Å, –Ω–æ –≤—ã–≥–æ–¥–Ω–æ –ø–æ—Ç–æ–º.",
                                image: "ü§ñ",
                                left: {
                                    text: "–û—Å—Ç–∞–≤–∏—Ç—å –≤—Å—ë –∫–∞–∫ –µ—Å—Ç—å",
                                    effect: { ecology: { tech: -5 } }
                                },
                                right: {
                                    text: "–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å AI",
                                    effect: { 
                                        company_finances: -15, // –ë—ã–ª–æ -20
                                        ecology: { tech: 15 }, // –ë—ã–ª–æ 20
                                        personnel: { salary: -5 },
                                        government: { finance: 5 }
                                    },
                                    deferred_effects: [{
                                        turns: 5, text: "–í–Ω–µ–¥—Ä–µ–Ω–∏–µ AI –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ! –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã —Å–Ω–∏–∂–µ–Ω—ã.",
                                        effect: { company_finances: 25, government: { finance: 10 } }
                                    }]
                                }
                            },
                            {
                                text: "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç –≤–Ω–µ–¥—Ä–∏–ª —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—É—é '–∑–µ–ª–µ–Ω—É—é' —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é. –ú–æ–∂–Ω–æ —Ä–∏—Å–∫–Ω—É—Ç—å –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∏–ª–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–≤–æ–µ.",
                                image: "ü§´",
                                left: {
                                    text: "–ù–∞—á–∞—Ç—å —Å–≤–æ—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É",
                                    effect: { company_finances: -25, ecology: { tech: 15 } } // –ë—ã–ª–æ -30
                                },
                                right: {
                                    text: "–£–∫—Ä–∞—Å—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é",
                                    effect: {
                                        company_finances: -5,
                                        ecology: { tech: 20 }, // –ë—ã–ª–æ 25
                                        government: { tax: -25 } // –ë—ã–ª–æ -40 (–û–±–ª–µ–≥—á–∏–ª–∏, –Ω–æ –≤—Å–µ –µ—â–µ —Å–µ—Ä—å–µ–∑–Ω–æ)
                                    }
                                }
                            },

                            // --- –ö–û–†–ü–û–†–ê–¢–ò–í–ù–ê–Ø –ö–£–õ–¨–¢–£–†–ê –ò –≠–¢–ò–ö–ê ---
                            {
                                text: "–í–µ–¥—É—â–∏–π —Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä, –ø—Ä–∏–Ω–æ—Å—è—â–∏–π –ø—Ä–∏–±—ã–ª—å, —Å–æ–∑–¥–∞–µ—Ç —Ç–æ–∫—Å–∏—á–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É. –ö–æ–º–∞–Ω–¥–∞ –Ω–µ–¥–æ–≤–æ–ª—å–Ω–∞.",
                                image: "ü§¨",
                                left: {
                                    text: "–£–≤–æ–ª–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞",
                                    effect: { 
                                        company_finances: -15, // –ë—ã–ª–æ -25
                                        personnel: { social: 20, salary: 5 } // –ù–µ–º–Ω–æ–≥–æ —É–º–µ—Ä–∏–ª–∏ –±–æ–Ω—É—Å—ã
                                    }
                                },
                                right: {
                                    text: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ",
                                    effect: {
                                        company_finances: 10,
                                        personnel: { social: -20, salary: -10 } // –ë—ã–ª–æ -35/-15
                                    }
                                }
                            },
                            {
                                text: "–í–∞–º –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –≤–≤–µ—Å—Ç–∏ –ø–æ–ª–∏—Ç–∏–∫—É '—Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏': –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—ã –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å.",
                                image: "üëÅÔ∏è",
                                left: {
                                    text: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–π–Ω—É",
                                    effect: { government: { tax: -5 }, personnel: { social: -2 } }
                                },
                                right: {
                                    text: "–í–≤–µ—Å—Ç–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å",
                                    effect: {
                                        personnel: { salary: 5, social: 15 },
                                        government: { tax: 15, finance: -5 } // –ë—ã–ª–æ tax: 25
                                    }
                                }
                            },

                            // --- –ì–ï–û–ü–û–õ–ò–¢–ò–ö–ê –ò –†–´–ù–ö–ò ---
                            {
                                text: "–ù–∞—Ä—É—à–µ–Ω–∞ —Ü–µ–ø–æ—á–∫–∞ –ø–æ—Å—Ç–∞–≤–æ–∫. –ú–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –¥–µ—à–µ–≤–æ–≥–æ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–ª–∏ —Ç–µ—Ä–ø–µ—Ç—å —É–±—ã—Ç–∫–∏ —Å —Ç–µ–∫—É—â–∏–º.",
                                image: "üåç",
                                left: {
                                    text: "–¢–µ—Ä–ø–µ—Ç—å —É–±—ã—Ç–∫–∏",
                                    effect: { company_finances: -15, government: { finance: -10 } } // –ë—ã–ª–æ -20/-15
                                },
                                right: {
                                    text: "–°–º–µ–Ω–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞",
                                    effect: { 
                                        company_finances: -2,
                                        deferred_effects: [{
                                            turns: 3, text: "–ù–æ–≤—ã–π –ø–æ—Å—Ç–∞–≤—â–∏–∫ –æ–∫–∞–∑–∞–ª—Å—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–º. –ù–µ–±–æ–ª—å—à–æ–µ –ø–∞–¥–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞.",
                                            effect: { government: { finance: -15, tax: -5 }, ecology: { eco_friendly: -10 } } // –°–∏–ª—å–Ω–æ —É–º–µ–Ω—å—à–∏–ª–∏ —à—Ç—Ä–∞—Ñ—ã
                                        }]
                                    }
                                }
                            },
                            {
                                text: "–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –ø–æ–≤—ã—à–∞–µ—Ç –Ω–∞–ª–æ–≥–∏.",
                                image: "üìâ",
                                left: {
                                    text: "–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–≤–æ–¥",
                                    effect: { 
                                        company_finances: -30, // –ë—ã–ª–æ -40
                                        government: { investment: -10 },
                                        personnel: { salary: -10 }
                                    }
                                },
                                right: {
                                    text: "–ü—Ä–∏–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è",
                                    effect: {
                                        company_finances: -10, // –ë—ã–ª–æ -15
                                        government: { tax: -5 }
                                    }
                                }
                            },
                            
                            // --- –°—Ç–∞—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (REBALANCED) ---
                            { text: "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–ª–∏—è–Ω–∏—è —Å '—Ç–æ–∫—Å–∏—á–Ω—ã–º' –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–º.", image: "ü¶à", left: { text: "–û—Ç–∫–∞–∑", effect: { government: { finance: 5 } } }, right: { text: "–°–ª–∏—è–Ω–∏–µ", effect: { company_finances: 40, ecology: { eco_friendly: -15, tech: -10 }, personnel: { social: -15 }, government: { tax: -20 } } } },
                            { text: "–ü—Ä–µ–¥–ª–∞–≥–∞—é—Ç –≤–∑—è—Ç–∫—É –∑–∞ —Ç–µ–Ω–¥–µ—Ä.", image: "üíº", left: { text: "–ß–µ—Å—Ç–Ω–æ", effect: { government: { tax: 10 } } }, right: { text: "–í–∑—è—Ç–∫–∞", effect: { company_finances: 35, government: { tax: -30 } }, deferred_effects: [{ turns: 5, text: "–ö–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∞! –°–µ—Ä—å–µ–∑–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã.", effect: { company_finances: -40, government: { tax: -30, finance: -20 } } }] } },
                            { text: "–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å '–≥—Ä–∏–Ω–≤–æ—à–∏–Ω–≥'.", image: "üì¢", left: { text: "–ß–µ—Å—Ç–Ω–æ", effect: { company_finances: -5, government: { tax: 5 } } }, right: { text: "PR", effect: { company_finances: -5 }, deferred_effects: [{ turns: 4, text: "–û–±–º–∞–Ω —Ä–∞—Å–∫—Ä—ã—Ç. –†–µ–ø—É—Ç–∞—Ü–∏—è –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∞.", effect: { government: { tax: -15, finance: -10 }, personnel: { social: -10 } } }] } },
                            { text: "–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ù–î–¢ –∏–ª–∏ —ç–∫–æ–Ω–æ–º–∏—Ç—å?", image: "‚öôÔ∏è", left: { text: "–≠–∫–æ–Ω–æ–º–∏—Ç—å", effect: { company_finances: 5, ecology: { tech: -10, eco_friendly: -5 } } }, right: { text: "–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å", effect: { company_finances: -20, ecology: { tech: 15, eco_friendly: 5 } } } },
                            { text: "–î–µ—à–µ–≤–æ–µ —Å—ã—Ä—å–µ –∏–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ?", image: "üì¶", left: { text: "–ö–∞—á–µ—Å—Ç–≤–æ", effect: { government: { finance: 5 } } }, right: { text: "–≠–∫–æ–Ω–æ–º–∏—è", effect: { company_finances: 10, ecology: { eco_friendly: -5 } }, deferred_effects: [{ turns: 3, text: "–ü–∞—Ä—Ç–∏—è —Ç–æ–≤–∞—Ä–∞ –æ—Ç–æ–∑–≤–∞–Ω–∞.", effect: { company_finances: -15, government: { finance: -10, tax: -5 } } }] } },
                            { text: "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–æ—Ü. –ø–∞–∫–µ—Ç?", image: "‚ù§Ô∏è", left: { text: "–ù–µ—Ç", effect: { personnel: { social: -10, salary: -2 } } }, right: { text: "–î–∞", effect: { company_finances: -12, personnel: { social: 25 } } } },
                            { text: "–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—ã?", image: "üìà", left: { text: "–†–∏—Å–∫–Ω—É—Ç—å", effect: { company_finances: 8 }, deferred_effects: [{ turns: 2, text: "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —É—Ö–æ–¥—è—Ç.", effect: { personnel: { salary: -20 }, government: { finance: -5 } } }] }, right: { text: "–ü–æ–≤—ã—Å–∏—Ç—å", effect: { company_finances: -15, personnel: { salary: 20 }, government: { finance: -2 } } } },
                            { text: "–ì–æ—Å–ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.", image: "üèõÔ∏è", left: { text: "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å", effect: {} }, right: { text: "–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å", effect: { company_finances: 15, government: { investment: 15, tax: 5 }, ecology: { policy: 5 } } } },
                            { text: "–ò–Ω—Ç–µ—Ä–≤—å—é –°–ú–ò –æ–± —ç–∫–æ–ª–æ–≥–∏–∏.", image: "üé§", left: { text: "–û—Ç–∫–∞–∑", effect: { ecology: { policy: -5 } } }, right: { text: "–°–æ–≥–ª–∞—Å–∏–µ", effect: { company_finances: -2, ecology: { policy: 10 }, government: { tax: 5 } } } },
                            { text: "–ü—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å IT-–∫—É—Ä—Å—ã.", image: "üíª", left: { text: "–ù–µ—Ç", effect: { personnel: { charity: -5 }, government: { investment: -2 } } }, right: { text: "–î–∞", effect: { company_finances: -8, personnel: { charity: 15 }, government: { investment: 10 } } } },
                            { text: "–í—ã–ø—É—Å—Ç–∏—Ç—å '–∑–µ–ª–µ–Ω—ã–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏'.", image: "üå±", left: { text: "–†–∏—Å–∫–æ–≤–∞–Ω–Ω–æ", effect: { government: { finance: -2 } } }, right: { text: "–í—ã–ø—É—Å—Ç–∏—Ç—å", effect: { company_finances: 20, ecology: { policy: 10, eco_friendly: 5 }, government: { finance: -8 } } } },
                            { text: "–ò–Ω—Ü–∏–¥–µ–Ω—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ.", image: "üßë‚Äçüè≠", left: { text: "–°–∫—Ä—ã—Ç—å", effect: { personnel: { social: -15 }, government: { tax: -10 } }, deferred_effects: [{ turns: 3, text: "–ò–Ω—Ü–∏–¥–µ–Ω—Ç —Ä–∞—Å–∫—Ä—ã—Ç.", effect: { personnel: { social: -25 }, government: { tax: -20 }, company_finances: -20 } }] }, right: { text: "–†–∞—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å", effect: { company_finances: -15, personnel: { social: 15 }, government: { tax: 5 } } } },
                            { text: "–°–æ–∫—Ä–∞—Ç–∏—Ç—å —à—Ç–∞—Ç –∏–ª–∏ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å?", image: "üë•", left: { text: "–°–æ–∫—Ä–∞—Ç–∏—Ç—å", effect: { company_finances: 15, personnel: { salary: -10, social: -15 } } }, right: { text: "–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å", effect: { company_finances: -10, personnel: { salary: 10, social: 5 }, government: { finance: -2 } } } }
                        ];

        document.addEventListener("DOMContentLoaded", () => {
            loadCard();
            updateAllUI();
        });
    </script>
</body>
</html>


